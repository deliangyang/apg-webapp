webpackJsonp([0],{"076A":function(t,e,i){var n=i("m7h0");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("rjj0").default;a("2baeead2",n,!0,{})},"3Mxu":function(t,e,i){"use strict";function n(t){i("aDua")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("yHd/"),o=i("QDFb"),s=i("XyMi"),r=n,l=Object(s.a)(a.a,o.a,o.b,!1,r,null,null);e.default=l.exports},"3evy":function(t,e,i){i("xL5C"),i("076A")},"67Fi":function(t,e,i){"use strict";(function(t){function n(t){var e=Date.now(),i=Math.max(0,16-(e-r)),n=setTimeout(t,i);return r=e+i,n}function a(t){return c.call(l,t)}function o(t){d.call(l,t)}e.__esModule=!0,e.raf=a,e.cancel=o;var s=i("VxeN"),r=Date.now(),l=s.isServer?t:window,c=l.requestAnimationFrame||l.webkitRequestAnimationFrame||n,d=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.clearTimeout}).call(e,i("DuR2"))},CCOf:function(t,e,i){i("xL5C")},DOfO:function(t,e,i){var n=i("KKE1");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("rjj0").default;a("44ce1337",n,!0,{})},Irlo:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var a=i("ArwO"),o=n(a),s=i("gVfS"),r=n(s);e.default=(0,o.default)({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelected,expression:"isSelected"}],class:t.b("pane")},[t.inited?t._t("default"):t._e(),t.$slots.title?i("div",{ref:"title"},[t._t("title")],2):t._e()],2)},name:"tab",mixins:[r.default],props:{title:String,disabled:Boolean},data:function(){return{inited:!1}},computed:{index:function(){return this.parent.tabs.indexOf(this)},isSelected:function(){return this.index===this.parent.curActive}},watch:{"parent.curActive":function(){this.inited=this.inited||this.isSelected},title:function(){this.parent.setLine()}},created:function(){this.findParent("van-tabs")},mounted:function(){var t=this.parent.tabs,e=this.parent.$slots.default.indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this),this.$slots.title&&this.parent.renderTitle(this.$refs.title,this.index)},beforeDestroy:function(){this.parent.tabs.splice(this.index,1)}})},KKE1:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,".van-list__loading{text-align:center}.van-list__loading-text,.van-list__loading .van-loading{display:inline-block;vertical-align:middle}.van-list__loading .van-loading{width:16px;height:16px;margin-right:5px}.van-list__loading-text{font-size:13px;color:#999;line-height:50px}","",{version:3,sources:["F:/docker/openresty/apg-webapp/node_modules/vant/lib/vant-css/list.css"],names:[],mappings:"AAAA,mBAAmB,iBAAiB,CAAC,wDAAwD,qBAAqB,qBAAqB,CAAC,gCAAgC,WAAW,YAAY,gBAAgB,CAAC,wBAAwB,eAAe,WAAW,gBAAgB,CAAC",file:"list.css",sourcesContent:[".van-list__loading{text-align:center}.van-list__loading .van-loading,.van-list__loading-text{display:inline-block;vertical-align:middle}.van-list__loading .van-loading{width:16px;height:16px;margin-right:5px}.van-list__loading-text{font-size:13px;color:#999;line-height:50px}"],sourceRoot:""}])},KRZb:function(t,e,i){"use strict";e.__esModule=!0;var n=i("VxeN");e.default={getScrollEventTarget:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,i=t;i&&"HTML"!==i.tagName&&"BODY"!==i.tagName&&1===i.nodeType&&i!==e;){var n=this.getComputedStyle(i).overflowY;if("scroll"===n||"auto"===n)return i;i=i.parentNode}return e},getScrollTop:function(t){return"scrollTop"in t?t.scrollTop:t.pageYOffset},setScrollTop:function(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)},getElementTop:function(t){return(t===window?0:t.getBoundingClientRect().top)+this.getScrollTop(window)},getVisibleHeight:function(t){return t===window?t.innerHeight:t.getBoundingClientRect().height},getComputedStyle:!n.isServer&&document.defaultView.getComputedStyle.bind(document.defaultView)}},Mcfu:function(t,e,i){i("xL5C"),i("DOfO")},Ohe4:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,".category-box .category-list{margin-top:10px}","",{version:3,sources:["F:/docker/openresty/apg-webapp/src/module/product/category.vue"],names:[],mappings:"AACA,6BACE,eAAiB,CAClB",file:"category.vue",sourcesContent:["\n.category-box .category-list {\n  margin-top: 10px;\n}\n"],sourceRoot:""}])},QDFb:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"category-box"},[i("van-tabs",{on:{click:t.choiceCategory},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.categories,function(e,n){return i("van-tab",{key:n,attrs:{title:e.name}},[t.products.length>0?i("van-list",{staticClass:"category-list",attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("van-row",[i("div",{staticClass:"recommend"},t._l(t.productsData,function(e,n){return i("van-col",{key:n,attrs:{span:"12"}},[i("div",{class:n%2==1?"recommend-item recommend-item-1":"recommend-item recommend-item-2",on:{click:function(i){t.goToProductDetailPage(e.id)}}},[i("div",{staticClass:"image-box"},[i("img",{attrs:{src:e.cover}})]),t._v(" "),i("div",{staticClass:"product-title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"product-amount"},[i("span",{staticClass:"origin-amount"},[t._v("AU$ "+t._s(e.amount))]),t._v(" "),i("span",{staticClass:"vip-amount"},[t._v("AU$ "+t._s(e.vip_amount))]),t._v(" "),i("span",{staticClass:"aud_cny"},[t._v("(约￥ "+t._s(e.aud_cny)+")")])]),t._v(" "),i("div",{staticClass:"tag-info"},[e.is_hot?i("div",{staticClass:"hot"},[t._v("畅销")]):t._e(),t._v(" "),e.tag?i("div",{staticClass:"tag"},[t._v(t._s(e.tag))]):t._e()])])])}))])],1):i("div",{staticClass:"no-data"},[t._v("\n                暂无数据\n            ")])],1)}))],1)},a=[]},aDua:function(t,e,i){var n=i("Ohe4");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("rjj0").default;a("283ea5b1",n,!0,{})},gVfS:function(t,e,i){"use strict";e.__esModule=!0,e.default={data:function(){return{parent:null}},methods:{findParent:function(t){for(var e=this.$parent;e;){if(e.$options.name===t){this.parent=e;break}e=e.$parent}}}}},m7h0:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,".van-tabs{position:relative}.van-tabs__wrap{top:0;left:0;right:0;z-index:99;overflow:hidden;position:absolute}.van-tabs__wrap--page-top{position:fixed}.van-tabs__wrap--content-bottom{top:auto;bottom:0}.van-tabs__wrap--scrollable .van-tab{-webkit-box-flex:0;-webkit-flex:0 0 22%;flex:0 0 22%}.van-tabs__wrap--scrollable .van-tabs__nav{overflow:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}.van-tabs__wrap--scrollable .van-tabs__nav::-webkit-scrollbar{display:none}.van-tabs__nav{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-user-select:none;user-select:none;position:relative;background-color:#fff}.van-tabs__nav--line{height:100%;padding-bottom:15px;box-sizing:content-box}.van-tabs__nav--card{margin:0 15px;border-radius:2px;box-sizing:border-box;border:1px solid #f44;height:30px}.van-tabs__nav--card .van-tab{color:#f44;border-right:1px solid #f44;line-height:28px}.van-tabs__nav--card .van-tab:last-child{border-right:none}.van-tabs__nav--card .van-tab.van-tab--active{color:#fff;background-color:#f44}.van-tabs__line{z-index:1;left:0;bottom:15px;height:2px;position:absolute;background-color:#f44}.van-tabs--line{padding-top:44px}.van-tabs--line .van-tabs__wrap{height:44px}.van-tabs--card{padding-top:30px}.van-tabs--card .van-tabs__wrap{height:30px}.van-tab{-webkit-box-flex:1;-webkit-flex:1;flex:1;cursor:pointer;padding:0 5px;font-size:14px;position:relative;color:#333;line-height:44px;text-align:center;box-sizing:border-box;background-color:#fff;min-width:0}.van-tab span{display:block}.van-tab:active{background-color:#e8e8e8}.van-tab--active{color:#f44}.van-tab--disabled{color:#c9c9c9}.van-tab--disabled:active{background-color:#fff}","",{version:3,sources:["F:/docker/openresty/apg-webapp/node_modules/vant/lib/vant-css/tab.css"],names:[],mappings:"AAAA,UAAU,iBAAiB,CAAC,gBAAgB,MAAM,OAAO,QAAQ,WAAW,gBAAgB,iBAAiB,CAAC,0BAA0B,cAAc,CAAC,gCAAgC,SAAS,QAAQ,CAAC,qCAAqC,mBAAmB,qBAAqB,YAAY,CAAC,2CAA2C,gBAAgB,gBAAgB,gCAAgC,CAAC,8DAA8D,YAAY,CAAC,eAAe,oBAAoB,qBAAqB,aAAa,yBAAyB,iBAAiB,kBAAkB,qBAAqB,CAAC,qBAAqB,YAAY,oBAAoB,sBAAsB,CAAC,qBAAqB,cAAc,kBAAkB,sBAAsB,sBAAsB,WAAW,CAAC,8BAA8B,WAAW,4BAA4B,gBAAgB,CAAC,yCAAyC,iBAAiB,CAAC,8CAA8C,WAAW,qBAAqB,CAAC,gBAAgB,UAAU,OAAO,YAAY,WAAW,kBAAkB,qBAAqB,CAAC,gBAAgB,gBAAgB,CAAC,gCAAgC,WAAW,CAAC,gBAAgB,gBAAgB,CAAC,gCAAgC,WAAW,CAAC,SAAS,mBAAmB,eAAe,OAAO,eAAe,cAAc,eAAe,kBAAkB,WAAW,iBAAiB,kBAAkB,sBAAsB,sBAAsB,WAAW,CAAC,cAAc,aAAa,CAAC,gBAAgB,wBAAwB,CAAC,iBAAiB,UAAU,CAAC,mBAAmB,aAAa,CAAC,0BAA0B,qBAAqB,CAAC",file:"tab.css",sourcesContent:[".van-tabs{position:relative}.van-tabs__wrap{top:0;left:0;right:0;z-index:99;overflow:hidden;position:absolute}.van-tabs__wrap--page-top{position:fixed}.van-tabs__wrap--content-bottom{top:auto;bottom:0}.van-tabs__wrap--scrollable .van-tab{-webkit-box-flex:0;-webkit-flex:0 0 22%;flex:0 0 22%}.van-tabs__wrap--scrollable .van-tabs__nav{overflow:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}.van-tabs__wrap--scrollable .van-tabs__nav::-webkit-scrollbar{display:none}.van-tabs__nav{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-user-select:none;user-select:none;position:relative;background-color:#fff}.van-tabs__nav--line{height:100%;padding-bottom:15px;box-sizing:content-box}.van-tabs__nav--card{margin:0 15px;border-radius:2px;box-sizing:border-box;border:1px solid #f44;height:30px}.van-tabs__nav--card .van-tab{color:#f44;border-right:1px solid #f44;line-height:28px}.van-tabs__nav--card .van-tab:last-child{border-right:none}.van-tabs__nav--card .van-tab.van-tab--active{color:#fff;background-color:#f44}.van-tabs__line{z-index:1;left:0;bottom:15px;height:2px;position:absolute;background-color:#f44}.van-tabs--line{padding-top:44px}.van-tabs--line .van-tabs__wrap{height:44px}.van-tabs--card{padding-top:30px}.van-tabs--card .van-tabs__wrap{height:30px}.van-tab{-webkit-box-flex:1;-webkit-flex:1;flex:1;cursor:pointer;padding:0 5px;font-size:14px;position:relative;color:#333;line-height:44px;text-align:center;box-sizing:border-box;background-color:#fff;min-width:0}.van-tab span{display:block}.van-tab:active{background-color:#e8e8e8}.van-tab--active{color:#f44}.van-tab--disabled{color:#c9c9c9}.van-tab--disabled:active{background-color:#fff}"],sourceRoot:""}])},r9aq:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var a=i("ArwO"),o=n(a),s=i("KRZb"),r=n(s),l=i("NrR7");e.default=(0,o.default)({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.b()},[t._t("default"),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],class:t.b("loading")},[t._t("loading",[i("loading"),i("span",{class:t.b("loading-text")},[t._v(t._s(t.loadingText||t.$t("loadingTip")))])])],2)],2)},name:"list",model:{prop:"loading"},props:{loading:Boolean,finished:Boolean,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},loadingText:String},mounted:function(){this.scroller=r.default.getScrollEventTarget(this.$el),this.handler(!0),this.immediateCheck&&this.$nextTick(this.check)},destroyed:function(){this.handler(!1)},activated:function(){this.handler(!0)},deactivated:function(){this.handler(!1)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!this.loading&&!this.finished){var t=this.$el,e=this.scroller,i=r.default.getVisibleHeight(e);if(i&&"none"!==r.default.getComputedStyle(t).display&&null!==t.offsetParent){var n=r.default.getScrollTop(e),a=n+i,o=!1;if(t===e)o=e.scrollHeight-a<this.offset;else{o=r.default.getElementTop(t)-r.default.getElementTop(e)+r.default.getVisibleHeight(t)-i<this.offset}o&&(this.$emit("input",!0),this.$emit("load"))}}},handler:function(t){this.binded!==t&&(this.binded=t,(t?l.on:l.off)(this.scroller,"scroll",this.check))}}})},rrcz:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var a=i("ArwO"),o=n(a),s=i("67Fi"),r=i("NrR7"),l=i("KRZb"),c=n(l),d=i("pNwR"),u=n(d);e.default=(0,o.default)({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.b([t.type])},[i("div",{ref:"wrap",class:[t.b("wrap",{scrollable:t.scrollable}),{"van-hairline--top-bottom":"line"===t.type}],style:t.wrapStyle},[i("div",{ref:"nav",class:t.b("nav",[t.type])},["line"===t.type?i("div",{class:t.b("line"),style:t.lineStyle}):t._e(),t._l(t.tabs,function(e,n){return i("div",{ref:"tabs",refInFor:!0,staticClass:"van-tab",class:{"van-tab--active":n===t.curActive,"van-tab--disabled":e.disabled},on:{click:function(e){t.onClick(n)}}},[i("span",{ref:"title",refInFor:!0,staticClass:"van-ellipsis"},[t._v(t._s(e.title))])])})],2)]),i("div",{ref:"content",class:t.b("content")},[t._t("default")],2)])},name:"tabs",mixins:[u.default],model:{prop:"active"},props:{sticky:Boolean,lineWidth:Number,swipeable:Boolean,active:{type:[Number,String],default:0},type:{type:String,default:"line"},duration:{type:Number,default:.2},swipeThreshold:{type:Number,default:4},offsetTop:{type:Number,default:0}},data:function(){return{tabs:[],position:"",curActive:null,lineStyle:{},events:{resize:!1,sticky:!1,swipeable:!1}}},computed:{scrollable:function(){return this.tabs.length>this.swipeThreshold},wrapStyle:function(){switch(this.position){case"top":return{top:this.offsetTop+"px",position:"fixed"};case"bottom":return{top:"auto",bottom:0};default:return null}}},watch:{active:function(t){t!==this.curActive&&this.correctActive(t)},tabs:function(t){this.correctActive(this.curActive||this.active),this.scrollIntoView(),this.setLine()},curActive:function(){this.scrollIntoView(),this.setLine(),"page-top"!==this.position&&"content-bottom"!==this.position||c.default.setScrollTop(window,c.default.getElementTop(this.$el))},sticky:function(){this.handlers(!0)},swipeable:function(){this.handlers(!0)}},mounted:function(){var t=this;this.correctActive(this.active),this.setLine(),this.$nextTick(function(){t.handlers(!0),t.scrollIntoView(!0)})},activated:function(){var t=this;this.$nextTick(function(){t.handlers(!0),t.scrollIntoView(!0)})},deactivated:function(){this.handlers(!1)},beforeDestroy:function(){this.handlers(!1)},methods:{handlers:function(t){var e=this.events,i=this.sticky&&t,n=this.swipeable&&t;if(e.resize!==t&&(e.resize=t,(t?r.on:r.off)(window,"resize",this.setLine,!0)),e.sticky!==i&&(e.sticky=i,this.scrollEl=this.scrollEl||c.default.getScrollEventTarget(this.$el),(i?r.on:r.off)(this.scrollEl,"scroll",this.onScroll,!0),this.onScroll()),e.swipeable!==n){e.swipeable=n;var a=this.$refs.content,o=n?r.on:r.off;o(a,"touchstart",this.touchStart),o(a,"touchmove",this.touchMove),o(a,"touchend",this.onTouchEnd),o(a,"touchcancel",this.onTouchEnd)}},onTouchEnd:function(){var t=this.direction,e=this.deltaX,i=this.curActive;"horizontal"===t&&this.offsetX>=50&&(e>0&&0!==i?this.setCurActive(i-1):e<0&&i!==this.tabs.length-1&&this.setCurActive(i+1))},onScroll:function(){var t=c.default.getScrollTop(window)+this.offsetTop,e=c.default.getElementTop(this.$el),i=e+this.$el.offsetHeight-this.$refs.wrap.offsetHeight;this.position=t>i?"bottom":t>e?"top":""},setLine:function(){var t=this;this.$nextTick(function(){if(t.$refs.tabs&&"line"===t.type){var e=t.$refs.tabs[t.curActive],i=t.lineWidth||e.offsetWidth,n=e.offsetLeft+(e.offsetWidth-i)/2;t.lineStyle={width:i+"px",transform:"translateX("+n+"px)",transitionDuration:t.duration+"s"}}})},correctActive:function(t){t=+t;var e=this.tabs.some(function(e){return e.index===t}),i=(this.tabs[0]||{}).index||0;this.setCurActive(e?t:i)},setCurActive:function(t){t!==this.curActive&&(this.$emit("input",t),null!==this.curActive&&this.$emit("change",t,this.tabs[t].title),this.curActive=t)},onClick:function(t){var e=this.tabs[t],i=e.title;e.disabled?this.$emit("disabled",t,i):(this.setCurActive(t),this.$emit("click",t,i))},scrollIntoView:function(t){if(this.scrollable&&this.$refs.tabs){var e=this.$refs.tabs[this.curActive],i=this.$refs.nav,n=i.scrollLeft,a=i.offsetWidth,o=e.offsetLeft,s=e.offsetWidth;this.scrollTo(i,n,o-(a-s)/2,t)}},scrollTo:function(t,e,i,n){if(n)return void(t.scrollLeft+=i-e);var a=0,o=Math.round(1e3*this.duration/16);!function n(){t.scrollLeft+=(i-e)/o,++a<o&&(0,s.raf)(n)}()},renderTitle:function(t,e){var i=this;this.$nextTick(function(){var n=i.$refs.title[e];n.parentNode.replaceChild(t,n)})}}})},"yHd/":function(t,e,i){"use strict";var n=i("Dd8w"),a=i.n(n),o=i("3evy"),s=(i.n(o),i("Irlo")),r=i.n(s),l=i("CCOf"),c=(i.n(l),i("rrcz")),d=i.n(c),u=i("Mcfu"),f=(i.n(u),i("r9aq")),A=i.n(f),p=i("jgNZ"),h=(i.n(p),i("syWm")),v=i.n(h),b=i("dKGA"),g=(i.n(b),i("kSul")),_=i.n(g);i("7+uW").default.use(r.a).use(d.a).use(A.a).use(v.a).use(_.a),e.a={data:function(){return{categoryId:0,active:0,categories:[],loading:!1,finished:!0,products:[]}},created:function(){this.categoryId=parseInt(this.$route.params.id)},methods:{loadCategory:function(t){var e=this;t=t||0,this.$axios.get("/api/product/category",{params:{pid:t}}).then(function(t){e.categories.push({name:"全部",pid:0});var i=0;t.data.data.forEach(function(t){i++,e.categories.push(t),t.id===e.categoryId&&(e.active=i)})})},locadProducts:function(t){var e=this;this.$axios.get("/api/products",{params:t}).then(function(i){t&&t.page&&1===t.page&&(e.products=[]),i.data.product.data.forEach(function(t){e.products.push(t)})})},onLoad:function(){},choiceCategory:function(t,e){this.locadProducts({page:1,pid:this.categories[t].id})}},mounted:function(){var t=this;this.$nextTick(function(e){t.loadCategory();var i={page:1};t.categoryId>0&&(i.pid=t.categoryId),t.locadProducts(i)})},computed:{productsData:function(){return this.products.map(function(t){return a()({},t,{amount:(t.amount/100).toFixed(2),vip_amount:(t.vip_amount/100).toFixed(2),aud_cny:(t.vip_amount/100).toFixed(2)})})}}}}});
//# sourceMappingURL=0.26f0c4b75c6dc70c96e5.js.map