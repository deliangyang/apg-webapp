webpackJsonp([5],{DOfO:function(t,e,n){var i=n("KKE1");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("rjj0").default;o("44ce1337",i,!0,{})},KKE1:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,".van-list__loading{text-align:center}.van-list__loading-text,.van-list__loading .van-loading{display:inline-block;vertical-align:middle}.van-list__loading .van-loading{width:16px;height:16px;margin-right:5px}.van-list__loading-text{font-size:13px;color:#999;line-height:50px}","",{version:3,sources:["F:/docker/openresty/apg-webapp/node_modules/vant/lib/vant-css/list.css"],names:[],mappings:"AAAA,mBAAmB,iBAAiB,CAAC,wDAAwD,qBAAqB,qBAAqB,CAAC,gCAAgC,WAAW,YAAY,gBAAgB,CAAC,wBAAwB,eAAe,WAAW,gBAAgB,CAAC",file:"list.css",sourcesContent:[".van-list__loading{text-align:center}.van-list__loading .van-loading,.van-list__loading-text{display:inline-block;vertical-align:middle}.van-list__loading .van-loading{width:16px;height:16px;margin-right:5px}.van-list__loading-text{font-size:13px;color:#999;line-height:50px}"],sourceRoot:""}])},KRZb:function(t,e,n){"use strict";e.__esModule=!0;var i=n("VxeN");e.default={getScrollEventTarget:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=t;n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e;){var i=this.getComputedStyle(n).overflowY;if("scroll"===i||"auto"===i)return n;n=n.parentNode}return e},getScrollTop:function(t){return"scrollTop"in t?t.scrollTop:t.pageYOffset},setScrollTop:function(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)},getElementTop:function(t){return(t===window?0:t.getBoundingClientRect().top)+this.getScrollTop(window)},getVisibleHeight:function(t){return t===window?t.innerHeight:t.getBoundingClientRect().height},getComputedStyle:!i.isServer&&document.defaultView.getComputedStyle.bind(document.defaultView)}},Mcfu:function(t,e,n){n("xL5C"),n("DOfO")},Moyj:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},RjyW:function(t,e,n){var i=n("Moyj");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("rjj0").default;o("2863a058",i,!0,{})},ZXmQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"search-box"},[n("van-search",{attrs:{placeholder:"请输入搜索商品"},on:{search:t.onSearch},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),n("div",[n("van-row",[n("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("div",{staticClass:"recommend"},t._l(t.productsData,function(e,i){return n("van-col",{key:i,attrs:{span:"12"}},[n("div",{class:i%2==1?"recommend-item recommend-item-1":"recommend-item recommend-item-2",on:{click:function(n){t.goToProductDetailPage(e.id)}}},[n("div",{staticClass:"image-box"},[n("img",{attrs:{src:e.cover}})]),t._v(" "),n("div",{staticClass:"product-title"},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"product-amount"},[n("span",{staticClass:"origin-amount"},[t._v("AU$ "+t._s(e.amount))]),t._v(" "),n("span",{staticClass:"vip-amount"},[t._v("AU$ "+t._s(e.vip_amount))]),t._v(" "),n("span",{staticClass:"aud_cny"},[t._v("(约￥ "+t._s(e.aud_cny)+")")])]),t._v(" "),n("div",{staticClass:"tag-info"},[e.is_hot?n("div",{staticClass:"hot"},[t._v("畅销")]):t._e(),t._v(" "),e.tag?n("div",{staticClass:"tag"},[t._v(t._s(e.tag))]):t._e()])])])}))])],1)],1)])},o=[]},btQ6:function(t,e,n){"use strict";var i,o=n("Dd8w"),a=n.n(o),s=n("bOdI"),l=n.n(s),r=n("Mcfu"),c=(n.n(r),n("r9aq")),d=n.n(c),u=n("dKGA"),f=(n.n(u),n("kSul")),g=n.n(f),h=n("jgNZ"),p=(n.n(h),n("syWm")),v=n.n(p),m=n("9ULi"),_=(n.n(m),n("lQdh")),A=n.n(_);e.a={components:(i={},l()(i,A.a.name,A.a),l()(i,v.a.name,v.a),l()(i,g.a.name,g.a),l()(i,d.a.name,d.a),i),data:function(){return{keyword:"",products:[]}},methods:{onSearch:function(t){this.searchProducts({keywords:t,page:1})},onCancel:function(){this.keyword=""},searchProducts:function(t){var e=this;this.$axios.get("/api/search",{params:t}).then(function(n){t&&1===t.page&&(e.products=[]),n.data.data.forEach(function(t){e.products.push(t)})})},goToProductDetailPage:function(t){this.$router.push({path:"/product/detail/"+t})}},created:function(){this.keyword=this.$route.query.keyword,this.searchProducts({keywords:this.keyword,page:1})},mounted:function(){},computed:{productsData:function(){return this.products.map(function(t){return a()({},t,{amount:(t.amount/100).toFixed(2),vip_amount:(t.vip_amount/100).toFixed(2),aud_cny:(t.vip_amount/100).toFixed(2)})})}}}},r9aq:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n("ArwO"),a=i(o),s=n("KRZb"),l=i(s),r=n("NrR7");e.default=(0,a.default)({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.b()},[t._t("default"),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],class:t.b("loading")},[t._t("loading",[n("loading"),n("span",{class:t.b("loading-text")},[t._v(t._s(t.loadingText||t.$t("loadingTip")))])])],2)],2)},name:"list",model:{prop:"loading"},props:{loading:Boolean,finished:Boolean,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},loadingText:String},mounted:function(){this.scroller=l.default.getScrollEventTarget(this.$el),this.handler(!0),this.immediateCheck&&this.$nextTick(this.check)},destroyed:function(){this.handler(!1)},activated:function(){this.handler(!0)},deactivated:function(){this.handler(!1)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!this.loading&&!this.finished){var t=this.$el,e=this.scroller,n=l.default.getVisibleHeight(e);if(n&&"none"!==l.default.getComputedStyle(t).display&&null!==t.offsetParent){var i=l.default.getScrollTop(e),o=i+n,a=!1;if(t===e)a=e.scrollHeight-o<this.offset;else{a=l.default.getElementTop(t)-l.default.getElementTop(e)+l.default.getVisibleHeight(t)-n<this.offset}a&&(this.$emit("input",!0),this.$emit("load"))}}},handler:function(t){this.binded!==t&&(this.binded=t,(t?r.on:r.off)(this.scroller,"scroll",this.check))}}})},rfUs:function(t,e,n){"use strict";function i(t){n("RjyW")}Object.defineProperty(e,"__esModule",{value:!0});var o=n("btQ6"),a=n("ZXmQ"),s=n("XyMi"),l=i,r=Object(s.a)(o.a,a.a,a.b,!1,l,null,null);e.default=r.exports}});
//# sourceMappingURL=5.6626358f46c8faadeded.js.map